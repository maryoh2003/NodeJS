bin/www 파일은 http 모듈에 express 모듈을 연결하고, 포트를 지정하는 부분이다.
희한하게도 www 파일에는 js 확장자가 붙어있지 않다.
또한 #!/usr/bin/env node 라는 주석이 첫 줄에 달려있다.
www 파일을 콘솔 명령어로 만들 수 있는데, 이때 이 주석이 사용된다.
전역 설치 후 rimraf와 같은 명령어로도 실행할 수 있는 것이다.

1. 먼저 app, debug, http 모듈들을 가져온다. app 모듈은 나중에 살펴본다. debug 모듈은 콘솔에 로그를 남기는 모듈이다.
var app = require('../app');
var debug = require('debug')('learn-express:server');
var http = require('http');

2. app.set('port', port)로 서버가 실행될 포트를 설정한다. process.env 객체에 PORT 속성이 있다면 그 값을 사용하고, 없다면 기본값으로 3000번 포트를 이용하도록 되어 있다. 이렇게 app.set(키, 값)을 사용해서 데이터를 저장할 수 있다. 나중에 데이터를 app.get(키)로 가져올 수 있다
var port = normalizePort(process.env.PORT || '3000');
app.set('port', port);

3. http.createServer에 불러온 app 모듈을 넣어준다. app 모듈이 createServer 메서드의 콜백 함수 역할을 한다
var server = http.createServer(app);

4. listen을 하는 부분은 http 웹 서버와 동일하다. 익스프레스는 그저 콜백 함수 부분을 조금 다르게 만든 것이다.

